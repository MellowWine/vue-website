import{u as p}from"./loveStore-DPlZ6Vwa.js";import{_ as m,h as f,a as s,b as o,F as h,g,u as y,o as i,f as k,t as r}from"./index-Bo6rJkZ8.js";const v={class:"page-container"},C={class:"timeline-container"},F={class:"timeline-content card"},b={class:"date"},x={key:0,class:"photo-container"},I=["src"],T={key:1},V=["onClick"],w=["onChange"],B={__name:"TimelineView",setup(L){const l=p(),c=f(null);function d(a){const t=document.querySelector("input[type=file]");t&&t.click()}function u(a,t){const e=t.target.files[0];if(e){const n=new FileReader;n.onload=_=>{l.addPhotoToTimeline(a,_.target.result)},n.readAsDataURL(e)}}return(a,t)=>(i(),s("div",v,[t[1]||(t[1]=o("h1",{class:"page-title"},"我们的时光机",-1)),o("div",C,[(i(!0),s(h,null,g(y(l).timeline,e=>(i(),s("div",{key:e.id,class:"timeline-item"},[t[0]||(t[0]=o("div",{class:"timeline-dot"},null,-1)),o("div",F,[o("div",b,r(e.date),1),o("p",null,r(e.text),1),e.photo?(i(),s("div",x,[o("img",{src:e.photo,alt:"回忆照片"},null,8,I)])):e.type!=="system"?(i(),s("div",T,[o("button",{onClick:n=>d(e.id),class:"btn btn-upload"},"上传照片",8,V),o("input",{type:"file",ref_for:!0,ref_key:"fileInput",ref:c,onChange:n=>u(e.id),style:{display:"none"},accept:"image/*"},null,40,w)])):k("",!0)])]))),128))])]))}},N=m(B,[["__scopeId","data-v-3a5ed2d8"]]);export{N as default};
